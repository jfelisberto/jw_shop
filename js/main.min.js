var alertTO,checkTO,signInviteTO,errorFieldFocus,validate,cadLocal,saveListBtn,prefix,fieldID,text="",exitAfterSave,newAfterSave,returnSave,parameters=!1;
0<$("#mapArea").length&&(mapInit($("#"+map_fieldsPrefix+"latitude").val(),$("#"+map_fieldsPrefix+"longitude").val()),$("#"+map_fieldsPrefix+"address, #cityLocation, #"+map_fieldsPrefix+"address_num, #"+map_fieldsPrefix+"postcode").on("blur",function(){""!=$("#"+map_fieldsPrefix+"address").val()&&""!=$("#cityLocation").val()&&mapSearchAddress($("#"+map_fieldsPrefix+"address_num").val()+" "+$("#"+map_fieldsPrefix+"address").val()+", "+$("#cityLocation").val())}));
function abortDTAjax(){if("undefined"!==typeof $&&$.fn.dataTable)for(var a=$($.fn.dataTable.tables()).DataTable().settings(),b=0,c;c=a[b];++b)c.jqXHR&&c.jqXHR.abort()}var swalBootstrapButtons=Swal.mixin({customClass:{confirmButton:"btn btn-success btn-js",cancelButton:"btn btn-danger btn-js"},buttonsStyling:!1});
function sa(a,b,c,f,e,d,g){swalBootstrapButtons.fire({position:"top-right",type:a,title:b,text:c,showConfirmButton:g,timer:f}).then(function(a){if("string"==typeof e&&"function"==typeof window[e])window[e](d,a)})}function sad(a,b,c,f,e,d,g){swalBootstrapButtons.fire({title:a,text:b,type:c,showCancelButton:!0,confirmButtonText:f,cancelButtonText:e,reverseButtons:!1}).then(function(a){if(a.value&&"sendForm"===d)window[d](g[0],g[1],g[2],g[3],g[4])})}
function sendForm(a,b,c,f,e,d){a=$.trim(a);b=$.trim(b);$(".saveButtons button").addClass("disabled").addClass("working").attr("disabled","disabled");void 0!==a&&void 0!==b&&""!==a&&""!==b&&null!==a&&null!==b?(validate=d?validate_form(a):!0,1==validate?(a=new FormData($(a)[0]),$.ajax({url:basePath+b,type:"POST",typeData:"json",data:a,contentType:!1,cache:!1,processData:!1,success:function(a){"success"===a.status?($("#formTitle").html(a.newTitle),document.title=a.pageTitle,exitAfterSave&&console.log("exitAfterSave: "+
exitAfterSave),newAfterSave&&console.log("newAfterSave: "+newAfterSave),f?sa("success",translate.titles_success,a.message,2E3,"succesReturn",[c,a]):succesReturn([c,a])):"error"===a.status&&!0===a.warning?sa("warning",translate.titles_warning,a.message,2E3,"errorReturn",[c,a]):"error"===a.status?sa("error",translate.titles_error,a.message,2E3,"errorReturn",[c,a]):sa("error",translate.titles_error,translate.global_neterror,3500)},error:function(a){sa("error",translate.titles_error,translate.save_error,
3500)}}).fail(function(){sa("error",translate.titles_error,translate.global_neterror,3500)})):sa("error",translate.titles_error,"Todos os campos devem ser preenchidos",2E3)):sa("error",translate.titles_error,translate.global_neterror,3500);setTimeout(function(){$(".saveButtons button").removeClass("working").removeClass("disabled").removeAttr("disabled")},4E3)}
function validate_form(a){var b=[],c=0,f,e,d;$("input").hasClass("validate")?($(".validate").each(function(){f=$(this).attr("id");e=$.trim($("#"+f).val());$(a).addClass("was-validated");b[c]=""===e||null===e?!1:!0;c++}),$.each(b,function(a,b){0==b&&(d=!1);0!=d&&(d=!0)})):d=!0;return d}
function succesReturn(a,b){target=a[0];parameters=a[1];console.log(target);console.log(parameters);console.log(b);switch(target){case "singup":$("#nsReturn").html(parameters.messageLink);break;case "login":setTimeout(function(){document.location.href=parameters["goto"]},1200);break;case "resendPassword":console.log("succes sendNewLink");break;case "recoverPassword":document.location.href=parameters.url.replace("/login","");break;case "exibeProdutos":$("#exibeProdutos").html(parameters.data);break;
case "aviseMe":$("#userName").val("");$("#userMail").val("");$("#aviseMe").removeClass("was-validated");break;default:return!1}}
function errorReturn(a,b){target=a[0];parameters=a[1];console.log(target);console.log(parameters);console.log(b);switch(target){case "singup":$("#nsReturn").html(parameters.messageLink);break;case "login":$(".card-footer").removeClass("hidden");$("#jsReturn").html(parameters.messageLink);break;case "resendPassword":console.log("erro sendNewLink");break;case "recoverPassword":"resendPassword"==parameters.shakeField?($("#formPwdRecovery").addClass("hidden"),$("#formSendRecovery").removeClass("hidden")):
$(parameters).focus();break;default:return $(parameters).focus(),!1}}
$(document).ready(function(){$(window).scroll(function(){0!=$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()});$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)});$(document).on("click",".abortDT",function(a){a.preventDefault();abortDTAjax()});$(".price").maskMoney({prefix:currencyPrefix+" ",thousands:currencyThousands,decimal:currencyDecimal,allowNegative:currencyNegative});$(".no_enter").keypress(function(a){if(13==a.which||13==a.keyCode)return!1});$(document).on("click",
".openLogIn",function(){$("#recruitModal").modal("show");clearTimeout(0)});$(document).on("change","#userLogin",function(){$("#password").val($("#userLogin option:selected").attr("data-pwd"))});$(document).on("click","#doLogin",function(){target=null;if(""===$("#user").val()||null===$("#user").val())return sa("error",translate.titles_error,"Digite seu nome de usu\u00e1rio.",2E3,"errorReturn",[target,"#user"]),!1;if(""===$("#password").val()||null===$("#password").val())return sa("error",translate.titles_error,
"Digite sua senha.",2E3,"errorReturn",[target,"#password"]),!1;sendForm("#"+$(this).attr("data-form"),"takeLogin","login")});$(document).on("click",".searchProduto",function(){id=$(this).attr("data-id");$("#subCategoria .nav-link").removeClass("active");$("#navLinkID"+id).addClass("active");$("#tagID").val(id);$("#masterID").val($(this).attr("data-parent"));$("#tagNormalName").val($(this).attr("data-nname"))});$(document).on("click","#aviseMeBtn",function(){sendForm("#aviseMe","sendmail/","aviseMe",
!0,null,!0)});$(document).on("click","#addCartBtn",function(){validate_form("#addCartForm")?($("#addCartForm").removeClass("was-validated"),$("#addCartForm").submit()):sa("error",translate.titles_error,"Informe a quantidade do produto.",2E3)})});

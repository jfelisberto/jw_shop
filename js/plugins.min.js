!function(e){e.browser||(e.browser={},e.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),e.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),e.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),e.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()));var h={destroy:function(){return e(this).unbind(".maskMoney"),e.browser.msie&&(this.onpaste=null),this},mask:function(b){return this.each(function(){var d,
m=e(this);return"number"==typeof b&&(m.trigger("mask"),d=e(m.val().split(/\D/)).last()[0].length,b=b.toFixed(d),m.val(b)),m.trigger("mask")})},unmasked:function(){return this.map(function(){var b,d=e(this).val()||"0",m=-1!==d.indexOf("-");return e(d.split(/\D/).reverse()).each(function(e,d){return d?(b=d,!1):void 0}),d=d.replace(/\D/g,""),d=d.replace(new RegExp(b+"$"),"."+b),m&&(d="-"+d),parseFloat(d)})},init:function(b){return b=e.extend({prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",
precision:2,allowZero:!1,allowNegative:!1},b),this.each(function(){function d(){var a,b,k,l,e,f=c.get(0),g=0,d=0;return"number"==typeof f.selectionStart&&"number"==typeof f.selectionEnd?(g=f.selectionStart,d=f.selectionEnd):(b=document.selection.createRange(),b&&b.parentElement()===f&&(l=f.value.length,a=f.value.replace(/\r\n/g,"\n"),k=f.createTextRange(),k.moveToBookmark(b.getBookmark()),e=f.createTextRange(),e.collapse(!1),-1<k.compareEndPoints("StartToEnd",e)?g=d=l:(g=-k.moveStart("character",
-l),g+=a.slice(0,g).split("\n").length-1,-1<k.compareEndPoints("EndToEnd",e)?d=l:(d=-k.moveEnd("character",-l),d+=a.slice(0,d).split("\n").length-1)))),{start:g,end:d}}function m(a){c.each(function(c,b){if(b.setSelectionRange)b.focus(),b.setSelectionRange(a,a);else if(b.createTextRange){var d=b.createTextRange();d.collapse(!0);d.moveEnd("character",a);d.moveStart("character",a);d.select()}})}function h(a){var c="";return-1<a.indexOf("-")&&(a=a.replace("-",""),c="-"),c+b.prefix+a+b.suffix}function t(a){var c,
d,e,q=-1<a.indexOf("-")&&b.allowNegative?"-":"";a=a.replace(/[^0-9]/g,"");var f=a.slice(0,a.length-b.precision);return f=f.replace(/^0*/g,""),f=f.replace(/\B(?=(\d{3})+(?!\d))/g,b.thousands),""===f&&(f="0"),c=q+f,0<b.precision&&(d=a.slice(a.length-b.precision),e=Array(b.precision+1-d.length).join(0),c+=b.decimal+e+d),h(c)}function u(a){var b,d=c.val().length;c.val(t(c.val()));b=c.val().length;m(a-(d-b))}function n(){var a=c.val();c.val(t(a))}function y(){var a=c.val();return b.allowNegative?""!==
a&&"-"===a.charAt(0)?a.replace("-",""):"-"+a:a}function r(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function v(a){a=a||window.event;var b,k,l,q,f,g=a.which||a.charCode||a.keyCode;if(void 0===g)b=!1;else{if(48>g||57<g)a=45===g?(c.val(y()),!1):43===g?(c.val(c.val().replace("-","")),!1):13===g||9===g?!0:!e.browser.mozilla||37!==g&&39!==g||0!==a.charCode?(r(a),!0):!0;else{var m=!(c.val().length>=c.attr("maxlength")&&0<=c.attr("maxlength")),h=d(),n=h.start,p=h.end,h=h.start!==h.end&&c.val().substring(n,
p).match(/\d/)?!0:!1,n="0"===c.val().substring(0,1);a=m||h||n?(r(a),b=String.fromCharCode(g),k=d(),l=k.start,q=k.end,f=c.val(),c.val(f.substring(0,l)+b+f.substring(q,f.length)),u(l+1),!1):!1}b=a}return b}function w(){setTimeout(function(){n()},0)}function p(){return(0/Math.pow(10,b.precision)).toFixed(b.precision).replace(RegExp("\\.","g"),b.decimal)}var x,c=e(this);b=e.extend(b,c.data());c.unbind(".maskMoney");c.bind("keypress.maskMoney",v);c.bind("keydown.maskMoney",function(a){a=a||window.event;
var e,k,l,h,f,g=a.which||a.charCode||a.keyCode;return void 0===g?!1:(e=d(),k=e.start,l=e.end,8===g||46===g||63272===g?(r(a),h=c.val(),k===l&&(8===g?""===b.suffix?--k:(f=h.split("").reverse().join("").search(/\d/),k=h.length-f-1,l=k+1):l+=1),c.val(h.substring(0,k)+h.substring(l,h.length)),u(k),!1):!0)});c.bind("blur.maskMoney",function(a){(e.browser.msie&&v(a),""===c.val()||c.val()===h(p()))?b.allowZero?b.affixesStay?c.val(h(p())):c.val(p()):c.val(""):b.affixesStay||(a=c.val().replace(b.prefix,"").replace(b.suffix,
""),c.val(a));c.val()!==x&&c.change()});c.bind("focus.maskMoney",function(){x=c.val();n();var a,b=c.get(0);b.createTextRange&&(a=b.createTextRange(),a.collapse(!1),a.select())});c.bind("click.maskMoney",function(){var a,b=c.get(0);b.setSelectionRange?(a=c.val().length,b.setSelectionRange(a,a)):c.val(c.val())});c.bind("cut.maskMoney",w);c.bind("paste.maskMoney",w);c.bind("mask.maskMoney",n)})}};e.fn.maskMoney=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=
typeof b&&b?(e.error("Method "+b+" does not exist on jQuery.maskMoney"),void 0):h.init.apply(this,arguments)}}(window.jQuery||window.Zepto);
